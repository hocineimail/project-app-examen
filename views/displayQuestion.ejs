<!DOCTYPE html>   
<html >
  <head> 
<title>لوحة التحكم</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="icon" href="logo.png" type="image/gif">
<link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
<link href="https://fonts.googleapis.com/css?family=Montserrat" rel="stylesheet">
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>

<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">

<link rel="stylesheet" type="text/css" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
<script src="sweetalert2/dist/sweetalert2.all.min.js"></script>
<script src="https://unpkg.com/sweetalert/dist/sweetalert.min.js"></script>
<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.6.3/css/all.css" integrity="sha384-UHRtZLI+pbxtHCWp1t77Bi1L4ZtiqrqD80Kn4Z8NTSRyMA2Fd33n5dQ8lWUE00s/" crossorigin="anonymous">
<link href="https://fonts.googleapis.com/css?family=Lalezar" rel="stylesheet">
<link href="https://fonts.googleapis.com/css?family=Cairo" rel="stylesheet">
</head>
<style>
body {
    font-family: 'Cairo', sans-serif;
  }
table {
  border-collapse: collapse;
  border-spacing: 0;
  width: 100%;
  border: 1px solid #ddd;

}

html {
  height: 100%;
  box-sizing: border-box;
}

*,
*:before,
*:after {
  box-sizing: inherit;
}

body {position: relative;

  padding-bottom: 6rem;
  min-height: 100%;

}

.demo {
  margin: 0 auto;
  padding-top: 64px;
  max-width: 640px;
  width: 94%;
}

.demo h1 {
  margin-top: 0;
}

/**
 * Footer Styles
 */

.footer {
  position: absolute;
  right: 0;
  bottom: 0;
  left: 0;
  padding: 1rem;
  background-color: #efefef;
  text-align: center;
}
th, td {
  text-align: right;  padding: 8px;

}


ul {
  list-style-type: none;
  margin: 0;
  padding: 0;
  overflow: hidden;
  background-color:  #3b5999;
}

li {
  float: left;
  font-size: 20px
}

li a {
  display: block;
  color: white;
  text-align: center;
  padding: 14px 16px;
  text-decoration: none;
}

li a:hover {
  background-color: #e4e3e3;
  color: black;
  text-decoration: none
}
.activee  {
  background-color: #3b5999;
  color: #f2f2f2;
  text-decoration: none
}
</style>
<body>

  <body style="background-color:rgb(243, 242, 242)">

   
  
  <div class="w3-main" >
  <div  style="color:#fff;background-color: #3b5999">

    <div class="w3-container" >
      <ul>
       

        <li><a href="/admin"><i class="far fa-edit"></i></a></li>
        <li class="nav-item active "> <% if (currentUser) { %>
          <a  href="/Logout"><i class="fas fa-sign-out-alt icon"></i>  </a>   </li> <% }  %>
 </ul>
</div>
  </div>
  
  <div class="w3-container" style="text-align: right">

<div class="container" style="padding-top: 2%;width: 50%;">
  <h2 style="text-align: center ">
  الاسئلة
     
</h2><br><br>
  <% errors.forEach(function(error) { %>
  <div class="alert alert-danger" style="text-align: right" role="alert">
  <%= error %>
  </div>
  <% }) %>
  <% infos.forEach(function(info) { %>
  <div class="alert alert-info" role="alert">
  <%= info %>
  </div>
  <% }) %>
</div>







<div class="container" >

    <% questions.forEach(function(question) {%>
      <div class="card-deck" style="padding-bottom: 3%;" >
         
          <div class="card" style="padding: 3%;" >
        
            <div class="card-body" >
            
              <div class="row" dir="rtl"> 
                  <div class="col-md-12">
                    <% if (question.IsValidFinal === true) { %>
                      <h4 style=" text-align: right;color: green "> <span class="span">مراجع من طرف كل المعلمين</span> </h4>
                      <% } else  {%>
                        <h4 style=" text-align: right;color: red "> <span class="span"> غير مراجع من طرف كل المعلمين  </span> </h4>
                        <% } %>
                      <h4 style=" text-align: center; border-bottom: 1px solid black"> <span class="span">رقم  السؤال</span> : <%= question._id %></h4>
                    </div>
              <div class="col-md-12" >
                <div class="row">
                     <div class="col-md-6"> 
                          <h4><span style="border-bottom: 2px solid black">عنوان الدرس</span> :  <%= question.NameOfCourse %>   </h4>
                        <h4 >  <span style="border-bottom: 2px solid black">نوع السؤال</span> : <%= question.TypeOfQuestion %> </h4>
                    </div>
                    <div class="col-md-6"> 
                        <h4><span style="border-bottom: 2px solid black">الوحد </span> :  <%= question.Chapiter %> </h4>
                        <h4 >  <span style="border-bottom: 2px solid black">درجة السؤال</span> : <%= question.Difficulty %></h4>
                     </div>
                    </div>
            
              
              </div>
             
              <% i = 0 %>
              <div class="col-md-12"> 
                      <h4> السؤال  :  </h4>
                      <div style=" background-color: rgb(242, 255, 239);   border-radius: 8px; margin: 2%;padding: 2%">
               
                        <h5> <%- question.Question %></h5>
                           <% if (question.QuestionImage != "") {%>
                          <img src="/uploads/<%= question.QuestionImage %>" width="80%">
                      <br>
                       <br>
                        <%}%>
                   </div>
              </div>
              <% responses.forEach(function(response) {%>
               
                <% if (JSON.stringify(question._id) == JSON.stringify(response.question)) {%>
                  
              <div class="col-md-6" > 
           <div style=" background-color: rgb(242, 255, 239);   border-radius: 8px; margin: 2%;padding: 2%">
                <% i = i +1 %>
                <% if (response.IsCorrect === true ) { %>
              <p style="color: green">الجواب <%= i  %> </p>
              <% } else { %>
                <p style="color: red">الجواب <%= i  %></p>
                <% } %>
                  <% if (response.ResponseImage != "") {%>
                    <%= response.ResponseImage %>
                    <img src="/uploads/<%= response.ResponseImage %>" width="80%">  
                  <%}%>
                  <%if  (response.ResponseText != "") {%>
                <p>  <%= response.ResponseText  %>  </p> 
                  <%}%>
                </div>
              </div>
                <%}%>
               
            
          <%})%> 
          
        
            <div class="col-md-12" > 
                <h4> الاجابة النموذجية:  </h4>
                <div style=" background-color: rgb(242, 255, 239);   border-radius: 8px; margin: 2%;padding: 2%">
             
                  <h5> <%- question.Response %></h5>
              
            </div>
            
            <div class="col-md-12" > 
              <div class="row">
                <div class="col-md-3" > 
                    <h4> اسم المعلم المدخل:  </h4>
                    <div style=" background-color: rgb(242, 255, 239);   border-radius: 8px; margin: 2%;padding: 2%;height: 50px">
                 
                      <h5> <%= question.Author.Firstname +" " +  question.Author.Lastname  %></h5>
                  
                </div> </div>
                <div class="col-md-3" > 
                    <h4> اسم  المراقب الاول:  </h4>
                    <div style=" background-color: rgb(242, 255, 239);   border-radius: 8px; margin: 2%;padding: 2%; height: 50px">
                    <% if ( question.TeacherOne != null) { %>
                      <h5><%= question.TeacherOne.Firstname +" " + question.TeacherOne.Lastname %></h5>
                   <% } else { %>
                   <h5></h5>
                   <% } %>
                </div> </div>
                <div class="col-md-3" > 
                    <h4> اسم  المراقب الثاني:  </h4>
                    <div style=" background-color: rgb(242, 255, 239);   border-radius: 8px; margin: 2%;padding: 2%; height: 50px"> 
                  <% if ( question.TeacherTwo != null) { %>
                      <h5> <%= question.TeacherTwo.Firstname +" " + question.TeacherTwo.Lastname  %></h5>
                      <% } else { %>
                        <h5></h5>
                        <% } %>
                </div> </div>
                <div class="col-md-3" > 
                    <h4> اسم  المدقق:  </h4>
                    <div style=" background-color: rgb(242, 255, 239);   border-radius: 8px; margin: 2%;padding: 2%;height: 50px">
                    <% if ( question.TeacherFinal != null) { %>
                      <h5> <%= question.TeacherFinal.Firstname +" " + question.TeacherFinal.Lastname  %></h5>
                      <% } else { %>
                        <h5></h5>
                        <% } %>
                </div> </div></div>
                <a href="/delete/question/<%= question._id%>" class="btn btn-danger">حذف </a>
              <p class="card-text" style="text-align: center"><small class="text-muted"><%= question.createdAt %></small></p>
            </div> </div>
            <hr>
           
          </div>
          
        </div>       
      </div>
 </div>
<%})%>  
 <br>


<script>
function w3_open() {
  document.getElementById("mySidebar").style.display = "block";
}

function w3_close() {
  document.getElementById("mySidebar").style.display = "none";
}
</script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/vue/2.5.22/vue.js"></script>
      <script src="vue/vue.js"></script>
     <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
     <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.6/umd/popper.min.js" integrity="sha384-wHAiFfRlMFy6i5SRaxvfOCifBUQy1xHdJ/yoi7FRNXMRBu5WHdZYu1hA6ZOblgut" crossorigin="anonymous"></script>
     <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/js/bootstrap.min.js" integrity="sha384-B0UglyR+jN6CkvvICOB2joaf5I4l3gm9GU6Hc1og6Ls7i6U/mkkaduKaBhlAXv9k" crossorigin="anonymous"></script>
</body>
</html>
