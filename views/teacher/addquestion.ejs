<!DOCTYPE html>
<html>
<title>Admin</title><head> 
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
<link href="https://fonts.googleapis.com/css?family=Cairo" rel="stylesheet">
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<script src="https://code.jquery.com/jquery-3.1.1.js" integrity="sha256-16cdPddA6VdVInumRGo6IbivbERE8p7CQR3HzTBuELA=" crossorigin="anonymous"></script>
<script type="text/javascript" src="../script.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta http-equiv="X-UA-Compatible" content="ie=edge">

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.100.2/css/materialize.min.css">
<link rel="stylesheet"
href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">

<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.6.3/css/all.css" integrity="sha384-UHRtZLI+pbxtHCWp1t77Bi1L4ZtiqrqD80Kn4Z8NTSRyMA2Fd33n5dQ8lWUE00s/" crossorigin="anonymous">
</head>
</head>
<style>
  label{
    color: black;
    padding-right: 20px
  }
body {
    font-family: 'Cairo', sans-serif;
  }
table {
  border-collapse: collapse;
  border-spacing: 0;
  width: 100%;
  border: 1px solid #ddd;

}

th, td {
  text-align: right;  padding: 8px;

}


.topnav {
  overflow: hidden;
  background-color: #333;
}

.topnav a {
  float: left;
  display: block;
  color: #f2f2f2;
  text-align: center;
  padding: 14px 16px;
  text-decoration: none;
  font-size: 17px;
}

.topnav a:hover {
  background-color: #ddd;
  color: black;
}



.topnav .icon {
  display: none;
 }
@media screen and (max-width: 600px) {
  .topnav a:not(:first-child) {display: none;}
  .topnav a.icon {
    float: right;
    display: block;
  }
}

@media screen and (max-width: 600px) {
  .topnav.responsive {position: relative;}
  .topnav.responsive .icon {
    position: absolute;
    right: 0;
    top: 0;
  }
  .topnav.responsive a {
    float: none;
    display: block;
    text-align: left;
  }
}
</style>
<body>

  <div class="topnav" id="myTopnav">
    <a href="#home">حسابي</a>
    <a href="#news">مراجعة الاسئلة</a>
    <a href="/teacher/question">اضافة سؤال </a>
    <a href="javascript:void(0);" class="icon" onclick="myFunction()">
      <i class="fa fa-bars"></i>
    </a>
  </div>
  

  <div class="w3-container" style="text-align: right">

<div class="container" style="padding-top: 2%;width: 50%;">
  <h2 style="text-align: center;  font-family: 'Cairo', sans-serif; "> 
اضافة سؤال
</h2><br><br>
  <% errors.forEach(function(error) { %>
  <div class="alert alert-danger" style="text-align: right" role="alert">
  <%= error %>
  </div>
  <% }) %>
  <% infos.forEach(function(info) { %>
  <div class="alert alert-info" role="alert">
  <%= info %>
  </div>
  <% }) %>
</div>

    <div class="container">
      <% if (teacher.Actif === true ) { %>
        <form action="/upload" method="post" enctype="multipart/form-data">
          <div class="row">
              <div class="col">
                <label style="font-size: 20px">اختر المستوى  </label>
                  <select name="Level" id="level"  class="form-control"  dir="rtl" >
                    <option value="" disabled selected>المستوى </option>
                    </select>
                </div>
               <div class="col">
                  <label style="font-size: 20px"> اختر المرحلة </label>
                  <select class="form-control" dir="rtl"  id="phase" required>
                      <% phases.forEach(function(phase) {%>
                          
                         <option><%= phase.Phase %> </option> 
                      <% }) %></select>
               </div>
             
        </div>
            
        <div class="row">
           
            <div class="col">
                <label style="font-size: 20px"> اختر المادة </label>
   <select name="Module" id="module"  class="form-control"  dir="rtl" placeholder=" اختر المادة ">
    <option value="" disabled selected>المادة</option>
    </select>
             </div>
             <div class="col">
                <label style="font-size: 20px"> اختر الفصل الدراسي </label>
                <select name="Semster" id="semster"  class="form-control"  dir="rtl" >
                  <option value="" disabled selected>الفصل الدراسي</option>
                  </select>
            </div>
     </div>
     <hr>
  
     <label style="font-size: 20px"> اختر  الاختبار  </label>
    <select name="Exam" id="exam"  class="form-control"  dir="rtl">
        
      </select> <hr>
<label></label>

      <div class="row">
           
        <div class="col">
            <label style="font-size: 20px"> عنوان الدرس </label>
         <input type="text" name="NameOfCourse" class="form-control" dir="rtl" placeholder="عنوان الدرس" required>
         </div>
         <div class="col">
            <label style="font-size: 20px"> الوحد</label>
            <input type="text" name="Chapiter" class="form-control" dir="rtl" placeholder="الوحد " required>
        </div>
 </div> <hr>
 <div class="row">
           
  <div class="col">
      <label style="font-size: 20px"> نوع السؤال</label>
   <select name="TypeOfQuestion"  class="form-control"  dir="rtl" >
          <option> تفكير</option>
          <option> تذكر</option>
           <option>تطبيق</option>
  </select>
   </div>
   <div class="col">
      <label style="font-size: 20px">  درجة السؤال </label>
      <select name="Difficulty"  class="form-control"  dir="rtl" >
        <option>سهل</option>
         <option>متوسط</option>
        <option> صعب</option>
        </select>
  </div>
</div>
   
      <div class="col-md-12">
      <h4 style="font-family: 'Cairo', sans-serif;">ادخل السؤال</h4>
      <textarea name="Question" id="myArea1" class="textarea"></textarea> 
      <div class="file-field input-field">
          <div class="btn grey">
            <span>تحميل صورة</span>
            <input name="image5" type="file">
          </div>
          <div class="file-path-wrapper">
            <input class="file-path validate" type="text"  name="image5value" value="">
          </div>
        
        </div>  
    
  
    </div>
    <h4 style="font-family: 'Cairo', sans-serif;padding-top: 20px">ادخل الاجوبة</h4>
    <div class="row">
      
        <div class="col-md-3" style="border: 1px solid rgb(218, 54, 54);border-radius: 8px;background-color: rgb(255, 212, 212) ">  
            <h6 style="font-family: 'Cairo', sans-serif;padding-top: 20px">ادخل اجابة خاطئة‬‎</h6>
      <div class="file-field input-field">
        <div class="btn grey">
          <span>تحميل صورة</span>
          <input name="image1" type="file">
        </div>
        <div class="file-path-wrapper">
          <input class="file-path validate" type="text" name="image1value" value="">
        </div>
      </div>
    <textarea style="text-align:right" name="ResponseText1" ></textarea>


    </div>
    <div class="col-md-3" style="border: 1px solid rgb(218, 54, 54);border-radius:8px;background-color: rgb(255, 212, 212) ">  
        <h6 style="font-family: 'Cairo', sans-serif;padding-top: 20px">ادخل اجابة خاطئة‬‎</h6>
      <div class="file-field input-field">
        <div class="btn grey">
          <span>تحميل صورة</span>
          <input name="image2" type="file">
        </div>
        <div class="file-path-wrapper">
          <input class="file-path validate" type="text" name="image2value" value=""> 
        </div>
      </div>
      <textarea style="text-align:right"  name="ResponseText2"></textarea>
    </div>
    <div class="col-md-3" style="border: 1px solid rgb(218, 54, 54);border-radius: 8px;background-color: rgb(255, 212, 212) ">  
        <h6 style="font-family: 'Cairo', sans-serif;padding-top: 20px">ادخل اجابة خاطئة‬‎</h6>
      <div class="file-field input-field">
        <div class="btn grey">
          <span>تحميل صورة</span>
          <input name="image3" type="file">
        </div>
        <div class="file-path-wrapper">
          <input class="file-path validate" type="text"name="image3value" value="" >
        </div>
        
      </div>
      <textarea style="text-align:right" name="ResponseText3" ></textarea>
    </div>
    <div class="col-md-3"  style="border: 1px solid green;border-radius: 8px;background-color: rgb(237, 255, 236)"> 
        <h6 style="font-family: 'Cairo', sans-serif;padding-top: 20px">ادخل اجابة الصحيحة</h6>
      <div class="file-field input-field">
        <div class="btn grey">
          <span>تحميل صورة</span>
          <input name="image4" type="file" >
        </div>
        <div class="file-path-wrapper">
          <input class="file-path validate" type="text" name="image4value" value="">
        </div>
      
      </div>  
      <textarea style="text-align:right"  name="ResponseText4" ></textarea>
     
   
  
  </div>

     
       
          
            
  </div>

    <label></label>
    <hr>




     
    <div class="col-md-12">
      <h4 style="font-family: 'Cairo', sans-serif;">ادخل الاجابة النموذجية</h4>
   
      <textarea id="myArea2" name="Response" class="textarea"></textarea> 
    </div>
    <label></label>
    <div class="row">
      <div class="col"> <button type="submit" class="btn btn-success form-control"> ارسال السؤال </button> </div>
      <div class="col"> </div>
    </div>
   

</form>
<% } else {  %>
  <div class="alert alert-warning" role="alert">
لا يمكنك اضافة سؤال لانه لم يتم تفعيل حسابك من طرف الادارة
  </div>
  <% }  %>
<br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br>
    </div>
      
    <script type="text/javascript" src="../editor-text/nicEdit.js"></script>
    <script type="text/javascript">
    var area1,area2
     area1 = new nicEditor({fullPanel : true}).panelInstance('myArea1',{hasPanel : true});
     area2 = new nicEditor({fullPanel : true}).panelInstance('myArea2',{hasPanel : true});
    </script>
    

    <script>
      function myFunction() {
        var x = document.getElementById("myTopnav");
        if (x.className === "topnav") {
          x.className += " responsive";
        } else {
          x.className = "topnav";
        }
      }
      </script>
      
      <script
      src="https://code.jquery.com/jquery-3.2.1.min.js"
      integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4="
      crossorigin="anonymous"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.100.2/js/materialize.min.js"></script>  

<script>
        $(function() {
            $("#phase").on("click", function () {
              console.log( $("#phase").val());
              var Phase = $('#phase').val();
              $.ajax({
                type: 'post',
                url: '/searchlevel',
                dataType: "text",  
                contentType: "application/json; charset=utf-8",
                data: JSON.stringify({
                  Phase: Phase
                }),
                       
                  cache: false,
                    timeout: 5000,
                    complete: function() {
                     
                      console.log('process complete');
                   
                    },
                    success: function(res) {
                      
                      var resu = JSON.parse(res)
             var html;
             
            
             html = ''
              
             for (var i = 0; i< resu.length; i++) {
              
                html += '<option value="' + resu[i]._id + '">' + resu[i].Level +  '</option>';
              
            }
           
             
             $('#level').html(html);
           },
    
                    error: function() {
                     
                      console.log('process error');
                    },
              
              });
            });
          });
         
    
    </script>


<script>
        $(function() {
            $("#level").on("click", function () {
              console.log( $("#level").val());
              var Level = $('#level').val();
              $.ajax({
                type: 'post',
                url: '/searchsemster',
                dataType: "text",  
                contentType: "application/json; charset=utf-8",
                data: JSON.stringify({
                  Level: Level
                }),
                       
                  cache: false,
                    timeout: 5000,
                    complete: function() {
                     
                      console.log('process level complete');
                      console.log(data.Level)
                    },
                    success: function(res) {
                      
                      var resu = JSON.parse(res)
             var html;
             
            
             html = ''
              
             for (var i = 0; i< resu.length; i++) {
              
                html += '<option value="' + resu[i]._id + '">' + resu[i].Semster +  '</option>';
              
            }
           
             
             $('#semster').html(html);
           },
    
                    error: function() {
                     
                      console.log('process error');
                    },
              
              });
            });
          });
         
    
    </script>




<script>
    $(function() {
        $("#semster").on("click", function () {
          console.log( $("#semster").val());
          var Semster = $('#semster').val();
          $.ajax({
            type: 'post',
            url: '/searchmodule',
            dataType: "text",  
            contentType: "application/json; charset=utf-8",
            data: JSON.stringify({
              Semster: Semster
            }),
                   
              cache: false,
                timeout: 5000,
                complete: function() {
                 
                  console.log('processmocule complete');
                  console.log(data.Semster)
                },
                success: function(res) {
                  
                  var resu = JSON.parse(res)
         var html;
         
        
         html = ''
          
         for (var i = 0; i< resu.length; i++) {
          
            html += '<option value="' + resu[i]._id + '">' + resu[i].Module +  '</option>';
          
        }
      
         
         $('#module').html(html);
       },

                error: function() {
                 
                  console.log('process error');
                },
          
          });
        });
      });
     

</script>




<script>
    $(function() {
        $("#module").on("click", function () {
          console.log( $("#module").val());
          var Module = $('#module').val();
          $.ajax({
            type: 'post',
            url: '/searchexam',
            dataType: "text",  
            contentType: "application/json; charset=utf-8",
            data: JSON.stringify({
              Module: Module
            }),
                   
              cache: false,
                timeout: 5000,
                complete: function() {
                 
                  console.log('process exam complete');
                  console.log(data.Module)
                },
                success: function(res) {
                  
                  var resu = JSON.parse(res)
         var html;
         
        
         html = ''
          
         for (var i = 0; i< resu.length; i++) {
          
            html += '<option value="' + resu[i]._id + '">' + resu[i].Exam +  '</option>';
          
        }
      
         
         $('#exam').html(html);
       },

                error: function() {
                 
                  console.log('process error');
                },
          
          });
        });
      });
     

</script>
    </body>
</html>
